(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9302)}])},9302:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(5893),s=n(1243),a=n(6833),o=n(9557),i=n(5675),l=n.n(i),c=n(5591),d=n(664);let u=e=>{let{children:t}=e,n=e=>{"blurredBackground"===e.target.id&&(0,d._)("show/signInComponent",!1)};return(0,r.jsx)("div",{id:"blurredBackground",className:"z-50 bg-base-300 text-base-content bg-opacity-20 fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center",onClick:n,children:(0,r.jsx)("div",{className:"flex flex-col items-center justify-start p-10 max-w-sm rounded-box bg-neutral text-neutral-content",children:t})})},g=()=>{let e=e=>{e.currentTarget.classList.add("loading","animate-pulse"),(0,c.JG)("api/auth",async()=>{let e=await o.O.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.href}});return e},{populateCache:!1})};return(0,r.jsxs)(u,{children:[(0,r.jsx)(l(),{alt:"pinterest logo",src:"https://hffebrjtrzopihuffrxv.supabase.co/storage/v1/object/public/assets/p-logo-lowres.png",priority:!0,width:"100",height:"100",style:{width:"100"}}),(0,r.jsx)("p",{className:"font-extrabold text-center",children:"Welcome to Pinterest"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsxs)("button",{className:"btn flex bg-transparent border-accent rounded-box items-center gap-2",onClick:e,children:[(0,r.jsx)(l(),{alt:"google logo",height:"30",width:"30",src:"./Google__G__Logo.svg",style:{aspectRatio:"1"}}),(0,r.jsx)("p",{className:"text-neutral-content",children:"Continue with Google"})]}),(0,r.jsx)("p",{className:"text-center text-xs",children:"By continuing, you agree to Pinterest's Terms of Service and acknowledge you've read our Privacy Policy Notice at collection."})]})]})};var h=n(9744),p=n(7294),f=n(9770);let x=()=>{let e=(0,h.a)(),t=(0,d.m)("show/signInComponent",!0),[n,i]=(0,p.useState)(!1),{data:l}=(0,f.Z)("api/feeds",async()=>{let e=null!=l?l:[];if(n)return[...e,...e];let t=e.length,r=await o.O.from("pins").select("*,\n        users(*)").order("inserted_at",{ascending:!1}).range(t,t+50);return r.data.length<50&&i(!0),[...e,...r.data]});return(0,r.jsxs)(s.T,{children:[!e.data&&t&&(0,r.jsx)(g,{}),l&&(0,r.jsx)(a.G,{props:{feeds:l,infinite:!0,refetchFn:()=>(0,c.JG)("api/feeds")}})]})};var b=x}},function(e){e.O(0,[598,578,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);