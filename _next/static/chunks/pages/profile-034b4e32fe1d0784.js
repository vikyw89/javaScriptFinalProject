(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{1969:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(1336)}])},3263:function(e,s,n){"use strict";n.d(s,{T:function(){return p}});var r=n(5893),t=n(1163),a=n(7294),l=n(8621);let i=()=>{let e=(0,t.useRouter)(),s=(0,l.ay)("route"),n=(0,l.ay)("signIn"),i=(0,l.ay)("signOut"),o=(0,l.ay)("auth"),d=(0,l.ay)("boards"),c=(0,l.ay)("pin"),h=(0,l.ay)("initialize"),u=(0,l.ay)("downloadPins"),x=(0,l.ay)("users");return(0,a.useEffect)(()=>{let s=()=>{(0,l.zT)("route.loading",!0)},n=()=>{(0,l.zT)("route.loading",!1)};return e.events.on("routeChangeStart",s),e.events.on("routeChangeComplete",n),()=>{e.events.off("routeChangeStart",s),e.events.off("routeChangeComplete",n)}},[e]),(0,r.jsx)("div",{className:"fixed z-50 top-12 w-full flex",children:(s.loading||n.loading||i.loading||o.loading||d.loading||c.loading||h.loading||u.loading||x.loading)&&(0,r.jsx)("progress",{className:"progress progress-accent"})})};var o=n(9557),d=n(8201),c=n(6540),h=n(5328),u=n(9485),x=n(3540),m=n(5675),j=n.n(m);let g=()=>{var e,s,n;let a=(0,l.C0)("theme"),i=(0,l.ay)("auth"),m=(0,t.useRouter)(),g=null==i?void 0:null===(e=i.data)||void 0===e?void 0:null===(s=e.user)||void 0===s?void 0:null===(n=s.user_metadata)||void 0===n?void 0:n.avatar_url,f=()=>{(0,l.zT)("show.signInComponent",!0)},p=()=>{(0,l.JX)("signOut",async()=>{let{error:e}=await o.O.auth.signOut();return e})},v=()=>{m.push("/")},w=()=>{m.push("/createPin")},b=async e=>{let s=e.target.textContent;await (0,l.JX)("users",async()=>{let e=await o.O.from("users").update({theme:s}).eq("uuid",i.data.user.id).select();return e.data[0]}),(0,l.zT)("users.data.theme",s)},N=()=>{m.push("/profile")};return(0,r.jsxs)("div",{className:"flex bg-neutral z-20 items-center text-neutral-content",children:[(0,r.jsx)("div",{className:"flex-1 px-2 lg:flex-none flex items-center gap-1 cursor-pointer",children:(0,r.jsxs)("div",{onClick:v,className:"lg:flex-none flex items-center gap-1 cursor-pointer",children:[(0,r.jsx)("div",{className:"w-12",children:(0,r.jsx)(j(),{alt:"pinterest logo",src:"https://hffebrjtrzopihuffrxv.supabase.co/storage/v1/object/public/assets/p-logo-lowres.png",width:"0",priority:!0,height:"0",sizes:"100vw",className:"w-auto"})}),(0,r.jsx)("a",{className:"text-lg font-bold hidden sm:block",children:"Pinterest"})]})}),(0,r.jsxs)("div",{className:"flex justify-end flex-1 px-2 items-center",children:[i.data&&(0,r.jsxs)("button",{className:"btn btn-ghost rounded-btn p-2",onClick:w,children:[(0,r.jsx)("a",{className:"hidden sm:block",children:"Create"}),(0,r.jsx)("div",{className:" sm:hidden",children:(0,r.jsx)(c.Z,{})})]}),(0,r.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,r.jsxs)("button",{tabIndex:0,className:"btn p-2 btn-ghost rounded-btn",children:[(0,r.jsx)("label",{className:"hidden sm:block",children:"Theme"}),(0,r.jsx)("div",{className:"sm:hidden",children:(0,r.jsx)(h.Z,{})})]}),(0,r.jsx)("ul",{tabIndex:0,className:"menu dropdown-content p-2 shadow rounded-box w-52 mt-4 grid grid-cols-1 overflow-y-scroll max-h-screen bg-neutral",children:a.map((e,s)=>(0,r.jsx)("li",{className:"text-neutral-content bg-neutral",children:(0,r.jsx)("a",{onClick:b,children:e})},s))})]}),i.data?(0,r.jsxs)("button",{className:"btn btn-ghost rounded-btn p-2",onClick:p,children:[(0,r.jsx)("a",{className:"hidden sm:block",children:"Sign Out"}),(0,r.jsx)("div",{className:"sm:hidden",children:(0,r.jsx)(x.Z,{})})]}):(0,r.jsxs)("button",{className:"btn btn-ghost rounded-btn p-2",onClick:f,children:[(0,r.jsx)("a",{className:"hidden sm:block",children:"Sign In"}),(0,r.jsx)("div",{className:"sm:hidden",children:(0,r.jsx)(u.Z,{})})]}),(0,r.jsx)("button",{className:"btn btn-ghost rounded-btn",onClick:N,children:(0,r.jsx)("div",{className:"avatar aspect-square",children:(0,r.jsx)("div",{className:"w-8 rounded-full flex items-center",children:g?(0,r.jsx)(j(),{src:g,alt:"avatar",width:"0",height:"0",className:"w-auto h-auto",id:"user_avatar"}):(0,r.jsx)(d.Z,{className:"text-3xl"})})})})]})]})},f=()=>{let e=(0,l.ay)("auth"),s=(0,l.ay)("boards"),n=(0,l.ay)("pin"),t=(0,l.ay)("initialize");return(0,r.jsxs)("div",{className:"fixed bottom-0 left-0",children:[e.error&&(0,r.jsx)("div",{className:"alert alert-error shadow-lg",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:e.error.message})]})}),s.error&&(0,r.jsx)("div",{className:"alert alert-error shadow-lg",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:s.error.message})]})}),n.error&&(0,r.jsx)("div",{className:"alert alert-error shadow-lg",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:n.error.message})]})}),t.error&&(0,r.jsx)("div",{className:"alert alert-error shadow-lg",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{children:t.error.message})]})})]})},p=e=>{let{children:s}=e;return(0,r.jsxs)("div",{className:"fixed top-0 left-0 bottom-0 right-0 flex flex-col bg-base-100 text-base-content",children:[(0,r.jsx)(g,{}),(0,r.jsx)(i,{}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto flex flex-col",children:s}),(0,r.jsx)(f,{})]})}},1336:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return a}});var r=n(5893),t=n(3263);function a(){return(0,r.jsx)(t.T,{children:(0,r.jsx)("div",{className:"flex justify-center",children:"test"})})}}},function(e){e.O(0,[969,774,888,179],function(){return e(e.s=1969)}),_N_E=e.O()}]);