(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{1969:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(7536)}])},1243:function(e,s,r){"use strict";r.d(s,{T:function(){return k}});var t=r(5893),a=r(9744),n=r(1163),l=r(7294),i=r(8621);let o=()=>{let e=(0,n.useRouter)(),s=(0,i.ay)("route"),r=(0,i.ay)("signIn"),o=(0,i.ay)("signOut"),d=(0,a.a)(),c=(0,i.ay)("boards"),u=(0,i.ay)("pin"),x=(0,i.ay)("initialize"),h=(0,i.ay)("downloadPins"),m=(0,i.ay)("users");return(0,l.useEffect)(()=>{let s=()=>{(0,i.zT)("route.loading",!0)},r=()=>{(0,i.zT)("route.loading",!1)};return e.events.on("routeChangeStart",s),e.events.on("routeChangeComplete",r),()=>{e.events.off("routeChangeStart",s),e.events.off("routeChangeComplete",r)}},[e]),(0,t.jsx)("div",{className:"fixed z-50 top-12 w-full flex",children:(s.loading||r.loading||o.loading||d.loading||c.loading||u.loading||x.loading||h.loading||m.loading)&&(0,t.jsx)("progress",{className:"progress progress-accent"})})};var d=r(9770);let c=()=>{let e=(0,d.Z)("theme",()=>["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter"].sort((e,s)=>e>s?1:-1));return e};var u=r(7997),x=r(9557),h=r(8201),m=r(6540),p=r(5328),f=r(9485),v=r(3540),j=r(5675),g=r.n(j),b=r(5591);let w=()=>{var e,s,r;let l=c(),o=(0,a.a)(),d=(0,u.a)(),j=(0,n.useRouter)(),w=null==o?void 0:null===(e=o.data)||void 0===e?void 0:null===(s=e.user)||void 0===s?void 0:null===(r=s.user_metadata)||void 0===r?void 0:r.avatar_url,N=()=>{(0,i.zT)("show.signInComponent",!0)},k=()=>{(0,i.JX)("signOut",async()=>{let{error:e}=await x.O.auth.signOut();return e})},y=()=>{j.push("/")},_=()=>{j.push("/createPin")},C=e=>{let s=e.target.textContent,r={optimisticData:{...d.data,theme:s}};(0,b.JG)("user",async()=>{await x.O.from("users").update({theme:s}).eq("uuid",o.data.user.id).throwOnError()},r)},z=()=>{j.push("/profile")};return(0,t.jsxs)("div",{className:"flex bg-neutral z-20 items-center text-neutral-content",children:[(0,t.jsx)("div",{className:"flex-1 px-2 lg:flex-none flex items-center gap-1 cursor-pointer",children:(0,t.jsxs)("div",{onClick:y,className:"lg:flex-none flex items-center gap-1 cursor-pointer",children:[(0,t.jsx)("div",{className:"w-12",children:(0,t.jsx)(g(),{alt:"pinterest logo",src:"https://hffebrjtrzopihuffrxv.supabase.co/storage/v1/object/public/assets/p-logo-lowres.png",width:"0",priority:!0,height:"0",sizes:"100vw",className:"w-auto"})}),(0,t.jsx)("a",{className:"text-lg font-bold hidden sm:block",children:"Pinterest"})]})}),(0,t.jsxs)("div",{className:"flex justify-end flex-1 px-2 items-center",children:[o.data&&(0,t.jsxs)("button",{className:"btn btn-ghost rounded-btn p-2",onClick:_,children:[(0,t.jsx)("a",{className:"hidden sm:block",children:"Create"}),(0,t.jsx)("div",{className:" sm:hidden",children:(0,t.jsx)(m.Z,{})})]}),(0,t.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,t.jsxs)("button",{tabIndex:0,className:"btn p-2 btn-ghost rounded-btn",children:[(0,t.jsx)("label",{className:"hidden sm:block",children:"Theme"}),(0,t.jsx)("div",{className:"sm:hidden",children:(0,t.jsx)(p.Z,{})})]}),(0,t.jsx)("ul",{tabIndex:0,className:"menu dropdown-content p-2 shadow rounded-box w-52 mt-4 grid grid-cols-1 overflow-y-scroll max-h-screen bg-neutral",children:l.data&&l.data.map((e,s)=>(0,t.jsx)("li",{className:"text-neutral-content bg-neutral",children:(0,t.jsx)("a",{onClick:C,children:e})},s))})]}),o.data?(0,t.jsxs)("button",{className:"btn btn-ghost rounded-btn p-2",onClick:k,children:[(0,t.jsx)("a",{className:"hidden sm:block",children:"Sign Out"}),(0,t.jsx)("div",{className:"sm:hidden",children:(0,t.jsx)(v.Z,{})})]}):(0,t.jsxs)("button",{className:"btn btn-ghost rounded-btn p-2",onClick:N,children:[(0,t.jsx)("a",{className:"hidden sm:block",children:"Sign In"}),(0,t.jsx)("div",{className:"sm:hidden",children:(0,t.jsx)(f.Z,{})})]}),(0,t.jsx)("button",{className:"btn btn-ghost rounded-btn",onClick:z,children:(0,t.jsx)("div",{className:"avatar aspect-square",children:(0,t.jsx)("div",{className:"w-8 rounded-full flex items-center",children:w?(0,t.jsx)(g(),{src:w,alt:"avatar",width:"0",height:"0",className:"w-auto h-auto",id:"user_avatar"}):(0,t.jsx)(h.Z,{className:"text-3xl"})})})})]})]})},N=()=>{let e=(0,a.a)(),s=(0,i.ay)("boards"),r=(0,i.ay)("pin"),n=(0,i.ay)("initialize"),l=(0,i.ay)("user");return(0,t.jsxs)("div",{className:"fixed bottom-0 left-0",children:[e.error&&(0,t.jsx)("div",{className:"alert alert-error shadow-lg",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{children:e.error.message})]})}),s.error&&(0,t.jsx)("div",{className:"alert alert-error shadow-lg",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{children:s.error.message})]})}),r.error&&(0,t.jsx)("div",{className:"alert alert-error shadow-lg",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{children:r.error.message})]})}),n.error&&(0,t.jsx)("div",{className:"alert alert-error shadow-lg",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{children:n.error.message})]})}),l.error&&(0,t.jsx)("div",{className:"alert alert-error shadow-lg",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{children:l.error.message})]})})]})},k=e=>{let{children:s}=e;return(0,t.jsxs)("div",{className:"fixed top-0 left-0 bottom-0 right-0 flex flex-col bg-base-100 text-base-content",children:[(0,t.jsx)(w,{}),(0,t.jsx)(o,{}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto flex flex-col",children:s}),(0,t.jsx)(N,{})]})}},7536:function(e,s,r){"use strict";let t;r.r(s),r.d(s,{default:function(){return _}});var a=r(5893),n=r(1243),l=r(8621);let i=()=>(0,a.jsx)("div",{children:"Work in Progress"});var o=r(7997);let d="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var c={randomUUID:d};let u=new Uint8Array(16);function x(){if(!t&&!(t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(u)}let h=[];for(let e=0;e<256;++e)h.push((e+256).toString(16).slice(1));var m=function(e,s,r){if(c.randomUUID&&!s&&!e)return c.randomUUID();e=e||{};let t=e.random||(e.rng||x)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,s){r=r||0;for(let e=0;e<16;++e)s[r+e]=t[e];return s}return function(e,s=0){return(h[e[s+0]]+h[e[s+1]]+h[e[s+2]]+h[e[s+3]]+"-"+h[e[s+4]]+h[e[s+5]]+"-"+h[e[s+6]]+h[e[s+7]]+"-"+h[e[s+8]]+h[e[s+9]]+"-"+h[e[s+10]]+h[e[s+11]]+h[e[s+12]]+h[e[s+13]]+h[e[s+14]]+h[e[s+15]]).toLowerCase()}(t)},p=r(5675),f=r.n(p),v=r(1163);let j=e=>{let{props:s}=e,r=(0,v.useRouter)(),t=s.boards_pins,n=[...t.slice(-4)],l=()=>{let e=s.uuid;r.push("/profile/".concat(e))};return(0,a.jsxs)("div",{className:"flex flex-col justify-center gap-2 text-base-content hover:animate-pulse hover:cursor-pointer",onClick:l,children:[(0,a.jsx)("div",{className:"w-72 aspect-square bg-neutral-focus rounded-box",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gridAutoRows:"1fr"},children:n&&n.map(e=>(0,a.jsx)("div",{className:"relative aspect-square",children:(0,a.jsx)(f(),{fill:!0,placeholder:"blur",alt:e.pins.image_url,blurDataURL:e.pins.loading_image_url,src:e.pins.image_url,className:"aspect-square object-cover rounded-box"})},m()))}),(0,a.jsx)("div",{className:"text-center font-bold",style:{gridColumn:"1 / -1"},children:s.title})]})},g=()=>{var e;let s;let r=(0,o.a)(),t=null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.boards;return t&&(s=t.reduce((e,s)=>(e||(e=s),e={...e,boards_pins:[...e.boards_pins,...s.boards_pins],title:"All Pins",uuid:"pins"}),void 0)),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center flex-1 p-2",children:[s&&(0,a.jsx)(j,{props:s},m()),t&&t.map(e=>(0,a.jsx)(j,{props:e},e.uuid))]})},b=[{index:1,key:"Created",content:(0,a.jsx)(i,{},1)},{index:2,key:"Saved",content:(0,a.jsx)(g,{},2)}];(0,l.zT)("activeTab","Saved");let w=()=>{let e=(0,l.C0)("activeTab"),s=e=>{e.stopPropagation();let s=e.target.textContent;(0,l.zT)("activeTab",s)};return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"tabs",children:b.map(r=>r.key===e?(0,a.jsx)("a",{onClick:s,className:"tab tab-bordered tab-active font-extrabold",children:r.key},r.index):(0,a.jsx)("a",{onClick:s,className:"tab tab-bordered",children:r.key},r.index))}),(0,a.jsx)("div",{className:"flex flex-1 w-full",children:b.map(s=>{if(s.key===e)return s.content})})]})};var N=r(9744),k=r(9557);let y=()=>{var e,s;let r=(0,N.a)(),t=r.data.user.id,n=(0,l.Mz)("user",async()=>{let e=await k.O.from("users").select("*,\n                	users_followers!users_followers_follower_uuid_fkey(*),\n                  boards!boards_creator_uuid_fkey(*, \n                    boards_pins!boards_pins_board_uuid_fkey(*, \n                      pins(*))\n                  )\n            	").eq("uuid",t).throwOnError(),s=e.data[0];return s}),i=null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.users_followers,o=null==n?void 0:null===(s=n.data)||void 0===s?void 0:s.username,d=r.data.user.user_metadata.avatar_url;return(0,a.jsx)("div",{className:"flex justify-center p-10",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"max-w-[120px]",children:(0,a.jsx)(f(),{src:d,alt:d,priority:!0,width:300,height:300,className:"rounded-full aspect-square w-screen border-4 border-dotted border-secondary"})}),o&&(0,a.jsx)("div",{className:"font-bold text-2xl",children:o}),i&&(0,a.jsxs)("div",{className:"font-bold",children:[i.length," following"]}),(0,a.jsxs)("div",{className:"flex gap-5",children:[(0,a.jsx)("button",{className:"btn btn-primary rounded-btn",children:"Share"}),(0,a.jsx)("button",{className:"btn btn-primary rounded-btn",children:"Edit Profile"})]})]})})};function _(){let e=(0,N.a)();return(0,a.jsx)(n.T,{children:(0,a.jsxs)("div",{className:"flex  flex-col justify-center",children:[e.data&&(0,a.jsx)(y,{}),e.data&&(0,a.jsx)(w,{})]})})}}},function(e){e.O(0,[725,774,888,179],function(){return e(e.s=1969)}),_N_E=e.O()}]);